<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quản lý bàn ăn</title>
  <link rel="stylesheet" href="../css/table-style.css">
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Quản lý nhà hàng</h2>
    <a href="tables.html" class="active">Bàn ăn</a>
    <a href="menu.html">Thực đơn</a>
    <a href="orders.html">Đơn hàng</a>
    <a href="order-details.html">Chi tiết đơn</a>
    <a href="invoices.html">Hóa đơn</a>
    <a href="customers.html">Khách hàng</a>
    <a href="staff.html">Nhân viên</a>
  </div>

  <!-- Main content -->
  <div class="main">
    <h1>Quản lý bàn ăn</h1>
    <p>Danh sách bàn trong nhà hàng</p>
    <button class="add-button">+ Thêm bàn</button>

    <!-- Sơ đồ bàn ăn -->
    <div class="table-grid">
      <div class="table-item" data-ban="1">Bàn 1</div>
      <div class="table-item" data-ban="2">Bàn 2</div>
      <div class="table-item" data-ban="3">Bàn 3</div>
      <div class="table-item" data-ban="4">Bàn 4</div>
      <div class="table-item" data-ban="5">Bàn 5</div>
      <div class="table-item" data-ban="6">Bàn 6</div>
      <div class="table-item" data-ban="7">Bàn 7</div>
      <div class="table-item" data-ban="8">Bàn 8</div>
      <div class="table-item" data-ban="9">Bàn 9</div>
      <div class="table-item" data-ban="10">Bàn 10</div>
    </div>

    <!-- Chi tiết món ăn đã gọi -->
    <div id="order-details" class="order-list">
      <h2>Chi tiết món ăn đã gọi</h2>
      <p>Chọn một bàn để xem các món đã gọi.</p>
    </div>
  </div>

  <!-- Script xử lý click -->
  <script>
    document.querySelectorAll('.table-item').forEach(item => {
      item.addEventListener('click', () => {
        const maBan = item.getAttribute('data-ban');

        fetch(`/api/get_order_details?ma_ban=${maBan}`)
          .then(res => res.text())
          .then(html => {
            document.getElementById('order-details').innerHTML = html;
          })
          .catch(err => {
            document.getElementById('order-details').innerHTML = "<p>Lỗi khi tải dữ liệu.</p>";
          });
      });
    });
  </script>

</body>
</html>